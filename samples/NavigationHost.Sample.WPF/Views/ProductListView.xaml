<UserControl
    x:Class="NavigationHost.Sample.WPF.Views.ProductListView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="clr-namespace:NavigationHost.Sample.WPF.ViewModels"
    d:DataContext="{d:DesignInstance Type=vm:ProductListViewModel}"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">
    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis" />
    </UserControl.Resources>
    <Border>
        <Border.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Offset="0" Color="#FAF5FF" />
                <GradientStop Offset="0.5" Color="#F3E8FF" />
                <GradientStop Offset="1" Color="#E9D5FF" />
            </LinearGradientBrush>
        </Border.Background>
        <DockPanel Margin="45">
            <StackPanel Margin="0,0,0,28" DockPanel.Dock="Top">
                <TextBlock
                    Margin="0,0,0,20"
                    FontSize="42"
                    FontWeight="Bold"
                    Foreground="#7C3AED"
                    Text="{Binding Title}" />

                <Border
                    Margin="0,0,0,20"
                    Padding="14,10"
                    HorizontalAlignment="Left"
                    Background="#DDD6FE"
                    CornerRadius="10">
                    <TextBlock
                        FontSize="17"
                        FontWeight="Bold"
                        Foreground="#5B21B6">
                        <Run Text="📂 Category: " />
                        <Run Text="{Binding CategoryFilter}" />
                    </TextBlock>
                </Border>

                <Border
                    Margin="0,0,0,0"
                    Padding="26"
                    Background="White"
                    BorderBrush="#A78BFA"
                    BorderThickness="0,0,0,4"
                    CornerRadius="16">
                    <Border.Effect>
                        <DropShadowEffect
                            BlurRadius="16"
                            Direction="270"
                            Opacity="0.5"
                            ShadowDepth="4"
                            Color="#15000000" />
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock
                            Margin="0,0,0,10"
                            FontSize="19"
                            FontWeight="Bold"
                            Foreground="#7C3AED"
                            Text="✨ Features Demonstrated:" />
                        <TextBlock
                            Margin="0,0,0,0"
                            FontSize="15"
                            Foreground="#334155"
                            Text="✓ INavigationAware interface implementation" />
                        <TextBlock
                            Margin="0,0,0,0"
                            FontSize="15"
                            Foreground="#334155"
                            Text="✓ OnNavigatedTo receives parameters" />
                        <TextBlock
                            Margin="0,0,0,0"
                            FontSize="15"
                            Foreground="#334155"
                            Text="✓ OnNavigatedFrom cleanup" />
                        <TextBlock
                            Margin="0,0,0,0"
                            FontSize="15"
                            Foreground="#334155"
                            Text="✓ Navigation to another view with parameters" />
                    </StackPanel>
                </Border>
            </StackPanel>

            <Border
                Padding="0"
                Background="White"
                BorderBrush="#DDD6FE"
                BorderThickness="2"
                CornerRadius="16">
                <Border.Effect>
                    <DropShadowEffect
                        BlurRadius="16"
                        Direction="270"
                        Opacity="0.5"
                        ShadowDepth="4"
                        Color="#15000000" />
                </Border.Effect>
                <DockPanel Margin="0,0,0,10">
                    <Button
                        Margin="0,18,0,0"
                        Padding="28,14"
                        HorizontalAlignment="Center"
                        Background="#7C3AED"
                        BorderThickness="0"
                        Command="{Binding ViewProductDetailCommand}"
                        Content="👁️ View Product Detail"
                        DockPanel.Dock="Bottom"
                        FontSize="15"
                        FontWeight="Bold"
                        Foreground="White">
                        <Button.IsEnabled>
                            <Binding Converter="{StaticResource BoolToVis}" Path="SelectedProduct">
                                <Binding.ConverterParameter>
                                    <x:Static Member="Visibility.Visible" />
                                </Binding.ConverterParameter>
                            </Binding>
                        </Button.IsEnabled>
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="Button">
                                            <Border
                                                Padding="{TemplateBinding Padding}"
                                                Background="{TemplateBinding Background}"
                                                CornerRadius="10">
                                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="Background" Value="#6D28D9" />
                                                </Trigger>
                                                <Trigger Property="IsEnabled" Value="False">
                                                    <Setter Property="Background" Value="#9CA3AF" />
                                                    <Setter Property="Foreground" Value="#D1D5DB" />
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </Button.Style>
                    </Button>

                    <DataGrid
                        Margin="0,0,0,12"
                        AutoGenerateColumns="False"
                        GridLinesVisibility="Horizontal"
                        HeadersVisibility="Column"
                        IsReadOnly="True"
                        ItemsSource="{Binding Products}"
                        SelectedItem="{Binding SelectedProduct}"
                        SelectionMode="Single">
                        <DataGrid.Columns>
                            <DataGridTextColumn
                                Width="70"
                                Binding="{Binding Id}"
                                Header="ID" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding Name}"
                                Header="Name" />
                            <DataGridTextColumn
                                Width="160"
                                Binding="{Binding Category}"
                                Header="Category" />
                            <DataGridTextColumn
                                Width="120"
                                Binding="{Binding Price, StringFormat=C}"
                                Header="Price" />
                        </DataGrid.Columns>
                    </DataGrid>
                </DockPanel>
            </Border>
        </DockPanel>
    </Border>
</UserControl>
