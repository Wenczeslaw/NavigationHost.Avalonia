<UserControl
    x:Class="NavigationHost.Sample.WPF.Views.SettingsView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="clr-namespace:NavigationHost.Sample.WPF.ViewModels"
    d:DataContext="{d:DesignInstance Type=vm:SettingsViewModel}"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">
    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis" />
    </UserControl.Resources>
    <Border>
        <Border.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Offset="0" Color="#FFF7ED" />
                <GradientStop Offset="0.5" Color="#FFEDD5" />
                <GradientStop Offset="1" Color="#FED7AA" />
            </LinearGradientBrush>
        </Border.Background>
        <ScrollViewer>
            <StackPanel Margin="45">
                <TextBlock
                    Margin="0,0,0,28"
                    FontSize="42"
                    FontWeight="Bold"
                    Foreground="#EA580C"
                    Text="{Binding Title}" />

                <Border
                    Margin="0,0,0,28"
                    Padding="24"
                    CornerRadius="16">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                            <GradientStop Offset="0" Color="#FED7AA" />
                            <GradientStop Offset="0.5" Color="#FDBA74" />
                            <GradientStop Offset="1" Color="#FB923C" />
                        </LinearGradientBrush>
                    </Border.Background>
                    <StackPanel>
                        <TextBlock
                            Margin="0,0,0,10"
                            FontSize="18"
                            FontWeight="Bold"
                            Foreground="#9A3412"
                            Text="⚠️ Navigation Confirmation Demo" />
                        <TextBlock
                            Margin="0,0,0,0"
                            FontSize="15"
                            Foreground="#7C2D12"
                            Text="Make changes to the settings below, then try to navigate away."
                            TextWrapping="Wrap" />
                        <TextBlock
                            Margin="0,0,0,0"
                            FontSize="14"
                            FontStyle="Italic"
                            Foreground="#7C2D12"
                            Text="The CanNavigateFrom() method will block navigation if changes are detected."
                            TextWrapping="Wrap" />
                    </StackPanel>
                </Border>

                <Border
                    Margin="0,0,0,28"
                    Padding="38"
                    Background="White"
                    BorderBrush="#FB923C"
                    BorderThickness="0,0,0,4"
                    CornerRadius="16">
                    <Border.Effect>
                        <DropShadowEffect
                            BlurRadius="16"
                            Direction="270"
                            Opacity="0.5"
                            ShadowDepth="4"
                            Color="#15000000" />
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock
                            Margin="0,0,0,28"
                            FontSize="24"
                            FontWeight="Bold"
                            Foreground="#EA580C"
                            Text="⚙️ User Settings" />

                        <StackPanel Margin="0,0,0,12">
                            <TextBlock
                                Margin="0,0,0,12"
                                FontSize="15"
                                FontWeight="Bold"
                                Foreground="#64748B"
                                Text="User Name:" />
                            <TextBox
                                Padding="14,12"
                                FontSize="15"
                                Text="{Binding UserName, UpdateSourceTrigger=PropertyChanged}" />
                        </StackPanel>

                        <StackPanel Margin="0,0,0,12">
                            <TextBlock
                                Margin="0,0,0,12"
                                FontSize="15"
                                FontWeight="Bold"
                                Foreground="#64748B"
                                Text="Email:" />
                            <TextBox
                                Padding="14,12"
                                FontSize="15"
                                Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}" />
                        </StackPanel>

                        <CheckBox
                            Margin="0,0,0,28"
                            Content="Enable Notifications"
                            FontSize="15"
                            FontWeight="SemiBold"
                            IsChecked="{Binding NotificationsEnabled}" />

                        <Border
                            Padding="18"
                            Background="#FEF3C7"
                            BorderBrush="#F59E0B"
                            BorderThickness="3"
                            CornerRadius="10"
                            Visibility="{Binding IsDirty, Converter={StaticResource BoolToVis}}">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    Margin="0,0,12,0"
                                    VerticalAlignment="Center"
                                    FontSize="24"
                                    Text="⚠️" />
                                <TextBlock
                                    VerticalAlignment="Center"
                                    FontSize="15"
                                    FontWeight="Bold"
                                    Foreground="#92400E"
                                    Text="Unsaved changes detected! Try navigating away..."
                                    TextWrapping="Wrap" />
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </Border>

                <Border
                    Margin="0,0,0,28"
                    Padding="22"
                    Background="White"
                    BorderBrush="#FB923C"
                    BorderThickness="2"
                    CornerRadius="16">
                    <Border.Effect>
                        <DropShadowEffect
                            BlurRadius="8"
                            Direction="270"
                            Opacity="0.5"
                            ShadowDepth="4"
                            Color="#15000000" />
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock
                            Margin="0,0,0,10"
                            FontSize="17"
                            FontWeight="Bold"
                            Foreground="#EA580C"
                            Text="✨ Features Demonstrated:" />
                        <TextBlock
                            FontSize="15"
                            Foreground="#334155"
                            Text="✓ CanNavigateFrom() navigation confirmation" />
                        <TextBlock
                            FontSize="15"
                            Foreground="#334155"
                            Text="✓ Blocking navigation based on view state" />
                        <TextBlock
                            FontSize="15"
                            Foreground="#334155"
                            Text="✓ OnNavigatedFrom() cleanup" />
                    </StackPanel>
                </Border>

                <Border
                    Padding="20"
                    Background="#CCFBF1"
                    BorderBrush="#5EEAD4"
                    BorderThickness="2"
                    CornerRadius="12">
                    <TextBlock
                        FontSize="15"
                        FontStyle="Italic"
                        Foreground="#115E59"
                        Text="{Binding NavigationInfo}"
                        TextWrapping="Wrap" />
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Border>
</UserControl>
